<h1 id="stable">Stable Application Binary Interface</h1> <p>Traditionally, the C API of Python will change with every release. Most changes will be source-compatible, typically by only adding API, rather than changing existing API or removing API (although some interfaces do get removed after being deprecated first).</p> <p>Unfortunately, the API compatibility does not extend to binary compatibility (the ABI). The reason is primarily the evolution of struct definitions, where addition of a new field, or changing the type of a field, might not break the API, but can break the ABI. As a consequence, extension modules need to be recompiled for every Python release (although an exception is possible on Unix when none of the affected interfaces are used). In addition, on Windows, extension modules link with a specific pythonXY.dll and need to be recompiled to link with a newer one.</p> <p>Since Python 3.2, a subset of the API has been declared to guarantee a stable ABI. Extension modules wishing to use this API (called “limited API”) need to define <code>Py_LIMITED_API</code>. A number of interpreter details then become hidden from the extension module; in return, a module is built that works on any 3.x version (x&gt;=2) without recompilation.</p> <p>In some cases, the stable ABI needs to be extended with new functions. Extension modules wishing to use these new APIs need to set <code>Py_LIMITED_API</code> to the <code>PY_VERSION_HEX</code> value (see <a class="reference internal" href="apiabiversion#apiabiversion"><span class="std std-ref">API and ABI Versioning</span></a>) of the minimum Python version they want to support (e.g. <code>0x03030000</code> for Python 3.3). Such modules will work on all subsequent Python releases, but fail to load (because of missing symbols) on the older releases.</p> <p>As of Python 3.2, the set of functions available to the limited API is documented in <a class="pep reference external" href="https://www.python.org/dev/peps/pep-0384" id="index-0"><strong>PEP 384</strong></a>. In the C API documentation, API elements that are not part of the limited API are marked as “Not part of the limited API.”</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2022 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/3.8/c-api/stable.html" class="_attribution-link">https://docs.python.org/3.8/c-api/stable.html</a>
  </p>
</div>
