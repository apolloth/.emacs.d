<h1 id="mapping">Mapping Protocol</h1> <p>See also <a class="reference internal" href="object#c.PyObject_GetItem" title="PyObject_GetItem"><code>PyObject_GetItem()</code></a>, <a class="reference internal" href="object#c.PyObject_SetItem" title="PyObject_SetItem"><code>PyObject_SetItem()</code></a> and <a class="reference internal" href="object#c.PyObject_DelItem" title="PyObject_DelItem"><code>PyObject_DelItem()</code></a>.</p> <dl class="function"> <dt id="c.PyMapping_Check">
<code>int PyMapping_Check(PyObject *o)</code> </dt> <dd>
<p>Return <code>1</code> if the object provides mapping protocol or supports slicing, and <code>0</code> otherwise. Note that it returns <code>1</code> for Python classes with a <a class="reference internal" href="../reference/datamodel#object.__getitem__" title="object.__getitem__"><code>__getitem__()</code></a> method since in general case it is impossible to determine what type of keys it supports. This function always succeeds.</p> </dd>
</dl> <dl class="function"> <dt id="c.PyMapping_Size">
<code>Py_ssize_t PyMapping_Size(PyObject *o)</code> </dt> <dt id="c.PyMapping_Length">
<code>Py_ssize_t PyMapping_Length(PyObject *o)</code> </dt> <dd>
<p id="index-0">Returns the number of keys in object <em>o</em> on success, and <code>-1</code> on failure. This is equivalent to the Python expression <code>len(o)</code>.</p> </dd>
</dl> <dl class="function"> <dt id="c.PyMapping_GetItemString">
<code>PyObject* PyMapping_GetItemString(PyObject *o, const char *key)</code> </dt> <dd>
<em class="refcount">Return value: New reference.</em><p>Return element of <em>o</em> corresponding to the string <em>key</em> or <code>NULL</code> on failure. This is the equivalent of the Python expression <code>o[key]</code>. See also <a class="reference internal" href="object#c.PyObject_GetItem" title="PyObject_GetItem"><code>PyObject_GetItem()</code></a>.</p> </dd>
</dl> <dl class="function"> <dt id="c.PyMapping_SetItemString">
<code>int PyMapping_SetItemString(PyObject *o, const char *key, PyObject *v)</code> </dt> <dd>
<p>Map the string <em>key</em> to the value <em>v</em> in object <em>o</em>. Returns <code>-1</code> on failure. This is the equivalent of the Python statement <code>o[key] = v</code>. See also <a class="reference internal" href="object#c.PyObject_SetItem" title="PyObject_SetItem"><code>PyObject_SetItem()</code></a>. This function <em>does not</em> steal a reference to <em>v</em>.</p> </dd>
</dl> <dl class="function"> <dt id="c.PyMapping_DelItem">
<code>int PyMapping_DelItem(PyObject *o, PyObject *key)</code> </dt> <dd>
<p>Remove the mapping for the object <em>key</em> from the object <em>o</em>. Return <code>-1</code> on failure. This is equivalent to the Python statement <code>del o[key]</code>. This is an alias of <a class="reference internal" href="object#c.PyObject_DelItem" title="PyObject_DelItem"><code>PyObject_DelItem()</code></a>.</p> </dd>
</dl> <dl class="function"> <dt id="c.PyMapping_DelItemString">
<code>int PyMapping_DelItemString(PyObject *o, const char *key)</code> </dt> <dd>
<p>Remove the mapping for the string <em>key</em> from the object <em>o</em>. Return <code>-1</code> on failure. This is equivalent to the Python statement <code>del o[key]</code>.</p> </dd>
</dl> <dl class="function"> <dt id="c.PyMapping_HasKey">
<code>int PyMapping_HasKey(PyObject *o, PyObject *key)</code> </dt> <dd>
<p>Return <code>1</code> if the mapping object has the key <em>key</em> and <code>0</code> otherwise. This is equivalent to the Python expression <code>key in o</code>. This function always succeeds.</p> <p>Note that exceptions which occur while calling the <a class="reference internal" href="../reference/datamodel#object.__getitem__" title="object.__getitem__"><code>__getitem__()</code></a> method will get suppressed. To get error reporting use <a class="reference internal" href="object#c.PyObject_GetItem" title="PyObject_GetItem"><code>PyObject_GetItem()</code></a> instead.</p> </dd>
</dl> <dl class="function"> <dt id="c.PyMapping_HasKeyString">
<code>int PyMapping_HasKeyString(PyObject *o, const char *key)</code> </dt> <dd>
<p>Return <code>1</code> if the mapping object has the key <em>key</em> and <code>0</code> otherwise. This is equivalent to the Python expression <code>key in o</code>. This function always succeeds.</p> <p>Note that exceptions which occur while calling the <a class="reference internal" href="../reference/datamodel#object.__getitem__" title="object.__getitem__"><code>__getitem__()</code></a> method and creating a temporary string object will get suppressed. To get error reporting use <a class="reference internal" href="#c.PyMapping_GetItemString" title="PyMapping_GetItemString"><code>PyMapping_GetItemString()</code></a> instead.</p> </dd>
</dl> <dl class="function"> <dt id="c.PyMapping_Keys">
<code>PyObject* PyMapping_Keys(PyObject *o)</code> </dt> <dd>
<em class="refcount">Return value: New reference.</em><p>On success, return a list of the keys in object <em>o</em>. On failure, return <code>NULL</code>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>Previously, the function returned a list or a tuple.</p> </div> </dd>
</dl> <dl class="function"> <dt id="c.PyMapping_Values">
<code>PyObject* PyMapping_Values(PyObject *o)</code> </dt> <dd>
<em class="refcount">Return value: New reference.</em><p>On success, return a list of the values in object <em>o</em>. On failure, return <code>NULL</code>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>Previously, the function returned a list or a tuple.</p> </div> </dd>
</dl> <dl class="function"> <dt id="c.PyMapping_Items">
<code>PyObject* PyMapping_Items(PyObject *o)</code> </dt> <dd>
<em class="refcount">Return value: New reference.</em><p>On success, return a list of the items in object <em>o</em>, where each item is a tuple containing a key-value pair. On failure, return <code>NULL</code>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>Previously, the function returned a list or a tuple.</p> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2022 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/3.8/c-api/mapping.html" class="_attribution-link">https://docs.python.org/3.8/c-api/mapping.html</a>
  </p>
</div>
